const validatePhoneNumber=e=>{const t=String(e).trim();if(!t||t.length<7)return!1;const n=t.replace(/[^+\d]/g,"");return/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/.test(n)},registrationForm=document.querySelector(".form"),formInputs=registrationForm.querySelectorAll("input"),button=registrationForm.querySelector(".form__button"),checkbox=registrationForm.querySelector(".agreementInput"),nameInput=document.getElementById("name"),telInput=document.getElementById("tel");checkbox.addEventListener("change",(()=>{button.disabled=!checkbox.checked,console.log(checkbox.checked)})),formInputs.forEach((e=>{e.addEventListener("blur",(function(){switch(e.getAttribute("name")){case"name":this.value.length<1?this.classList.add("invalid"):this.classList.add("filled");break;case"tel":validatePhoneNumber(this.value)?this.classList.add("filled"):this.classList.add("invalid")}}))})),formInputs.forEach((e=>{e.addEventListener("focus",(function(){this.classList.remove("invalid"),this.classList.remove("filled")}))})),registrationForm.addEventListener("submit",(e=>{e.preventDefault();const t={field1:nameInput.value,field2:telInput.value};fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{console.log("Успех:",e),alert("Форма успешно отправлена!")})).catch((e=>{console.error("Ошибка:",e),alert("Произошла ошибка при отправке формы.")}))}));